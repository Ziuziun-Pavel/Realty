<div class="account-container">
  <div class="overlay">
    <form
      [formGroup]="userForm"
      (ngSubmit)="userForm.valid && onSubmit()"
      novalidate>
      <h2 class="title">{{ formConfig.title }}</h2>

      <div class="form-group">
        <label for="name">Имя</label>
        <input
          type="text"
          formControlName="userName"
          class="form-control"
          [class.is-invalid]="formConfig.submitted && formControls.userName.errors"
        />
        <div *ngIf="formConfig.submitted && formControls.userName.errors" class="invalid-feedback">
          <div *ngIf="formControls.userName.errors.required">Это поле обязательно</div>
        </div>
      </div>

      <div class="form-group">
        <label class="notReq" for="surname">Фамилия</label>
        <input
          type="text"
          formControlName="userSurname"
          class="form-control"
        />
      </div>

      <div class="form-group">
        <label for="email">Email</label>
        <input
          type="text"
          formControlName="userEmail"
          class="form-control"
          [class.is-invalid]="formConfig.submitted && formControls.userEmail.errors"
        />
        <div *ngIf="formConfig.submitted && formControls.userEmail.errors" class="invalid-feedback">
          <div *ngIf="formControls.userEmail.errors.required">Это поле обязательно</div>
          <div *ngIf="formControls.userEmail.errors.email">Введите верную электронную почту</div>
        </div>
      </div>

      <div class="form-group">
        <label for="password">Пароль</label>
        <input
          type="password"
          formControlName="password"
          class="form-control"
          [class.is-invalid]="formConfig.submitted && formControls.password.errors"
        />
        <div *ngIf="formConfig.submitted && formControls.password.errors" class="invalid-feedback">
          <div *ngIf="formControls.password.errors.required">Это поле обязательно</div>
          <div *ngIf="formControls.password.errors.minLength">Пароль должен иметь не менее 6 символов</div>
        </div>
      </div>

      <div class="form-group">
        <label for="confirmPassword">Повторите пароль</label>
        <input
          type="password"
          formControlName="confirmPassword"
          class="form-control"
          [class.is-invalid]="formConfig.submitted && formControls.confirmPassword.errors"
        />
        <div
          *ngIf="formConfig.submitted && formControls.confirmPassword.errors"
          class="invalid-feedback"
        >
          <div *ngIf="formControls.confirmPassword.errors.required">
            Подтвердите пароль
          </div>
          <div *ngIf="formControls.confirmPassword.errors.mustMatch">
            Пароли должны совпадать
          </div>
        </div>
      </div>

      <div *ngIf="formConfig.register" class="form-group">
        <button
          class="btn-register"
          (click)="onChange()"
          [disabled]="formConfig.loading">
          Создать аккаунт
        </button>

        <span>У вас уже есть аккаунт?<a routerLink="/login" class="btn-link"> Войти</a></span>
      </div>

      <div *ngIf="formConfig.edit" class="form-group">
        <div class="btns">
          <button
            class="btn btn-save"
            (click)="onChange()"
            [disabled]="formConfig.loading">
            Сохранить
          </button>
          <button
            routerLink="/details"
            class="btn btn-cancel">
            Отмена
          </button>
        </div>
      </div>
    </form>
  </div>
  <app-loader></app-loader>
</div>
